<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원가입 폼</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>

<form id="signupForm">
  <h3>회원가입</h3>

  <label for="name">이름:</label>
  <input type="text" id="name" name="name" required>
  <br>

  <label>성별:</label>
  <input type="radio" id="male" name="gender" value="male">
  <label for="male">남성</label>
  <input type="radio" id="female" name="gender" value="female">
  <label for="female">여성</label>
  <br>

  <label for="dob">생년월일:</label>
  <input type="date" id="dob" name="dob" required>
  <br>

  <label>관심사:</label>
  <input type="checkbox" id="sports" name="interests" value="sports">
  <label for="sports">스포츠</label>
  <input type="checkbox" id="music" name="interests" value="music">
  <label for="music">음악</label>
  <input type="checkbox" id="movies" name="interests" value="movies">
  <label for="movies">영화</label>
  <br>

  <!-- 버튼을 <button> 요소로 변경하고 onclick 이벤트를 추가 -->
  <button type="button" onclick="submitForm()">회원가입</button>
</form>

<script>
  function submitForm() {
    var formData = new FormData(document.getElementById('signupForm'));

    var data = {};
    formData.forEach((value, key) => {
      data[key] = value;
    });

    axios.post('/signup', data)
      .then(function (response) {
        console.log(response.data);
        console.log(`${response.data.name}님 회원가입 성공`);
        // Assuming you have a token in the response, you can use it for the patch request
        var token = response.data.token;


<!--        axios.patch('/signup', data)-->
<!--          .then(function (res) {-->
<!--            console.log(res.data);-->
<!--            console.log(`${res.data.name}님 회원정보 수정 성공`);-->
<!--          })-->
<!--          .catch(function (error) {-->
<!--            console.error('Error submitting patch request:', error);-->
<!--          });-->

  }
</script>

</body>
</html>
